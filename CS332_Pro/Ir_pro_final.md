# 信息检索期末项目报告

## 项目整体思路简介

### 数据处理

* **原始数据：**爱彼迎全球评论文本
* **项目数据：**为了减轻机器压力，在符合项目要求500M数据量的情况下，选择了仅纽约市的数据（大小共2G）
* **数据形式转换：**为了便于构造倒排索引，将csv文本转换成房源ID（文件名）对应评论文本（文件内容）的形式。（受限于磁盘空间，综合考虑项目要求后决定使用数据的前半部分【1G大小的数据】进行项目实操）

### 项目设计

#### 项目目的

通过我们课上学习的几种匹配算法，匹配用户输入文本和民宿评论文本，返回匹配度最高的十个结果。

#### 方法运用

匹配算法使用了较为常用的BM25和空间向量匹配，项目中还使用了3-gram法进行用户输入纠错【同时做了and/or/not的剔除处理】，在构建倒排索引时使用SPIMI索引器减小单个索引的大小，减轻内存压力。

#### 功能设计

GUI方面使用pyQT提供用户交互界面，用户输入自己偏好的特点关键词，搜索得到匹配度最高的十个民宿结果。

## 项目功能演示

#### 使用方式说明

1. 在可执行文件目录下放置out文件夹【转换后的文本数据,提交的版本】
2. 运行可执行文件，初始化过程中会在当前目录下新建index文件夹存放标准大小的倒排索引，同时命令行会有初始化进度条提示初始化进度，不要在此时中断程序，否则会导致倒排索引表的不完整
3. 构建完倒排索引表后计算评论文档长度
4. 初始化完成后可以进入交互界面，输入想要查询的民宿特点，会返回符合需求的民宿编号
5. 如需验证程序，更具体的使用说明已另附在本项目下的README文档中。

#### 项目初始化

项目初始化的过程是对文本建立倒排索引并且计算得到项目所需重要数据的过程，这个过程耗时较长，因此做了以下处理：

* 判断执行目录下是否存在已建立的倒排索引【/index文件夹】，若已存在就不再建立
* 判断执行目录下是否有已存档的文本长度文件【doc_len.json文件】，若存在则跳过该过程
* 如果网络允许会直接上传上述文件，如果网站不允许则需老师运行程序并等待一段时间由程序自动初始化。
* 一次初始化多次查询——只有初始化的时候需要较长加载时间，不影响查询的体验